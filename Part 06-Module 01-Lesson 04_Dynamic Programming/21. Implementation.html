<!-- udacimak v1.2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Implementation</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Dynamic Programming</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. OpenAI Gym FrozenLakeEnv.html">02. OpenAI Gym: FrozenLakeEnv</a>
    </li>
    <li class="">
      <a href="03. Your Workspace.html">03. Your Workspace</a>
    </li>
    <li class="">
      <a href="04. Another Gridworld Example.html">04. Another Gridworld Example</a>
    </li>
    <li class="">
      <a href="05. An Iterative Method, Part 1.html">05. An Iterative Method, Part 1</a>
    </li>
    <li class="">
      <a href="06. An Iterative Method, Part 2.html">06. An Iterative Method, Part 2</a>
    </li>
    <li class="">
      <a href="07. Quiz An Iterative Method.html">07. Quiz: An Iterative Method</a>
    </li>
    <li class="">
      <a href="08. Iterative Policy Evaluation.html">08. Iterative Policy Evaluation</a>
    </li>
    <li class="">
      <a href="09. Implementation.html">09. Implementation</a>
    </li>
    <li class="">
      <a href="10. Mini Project DP (Parts 0 and 1).html">10. Mini Project: DP (Parts 0 and 1)</a>
    </li>
    <li class="">
      <a href="11. Action Values.html">11. Action Values</a>
    </li>
    <li class="">
      <a href="12. Implementation.html">12. Implementation</a>
    </li>
    <li class="">
      <a href="13. Mini Project DP (Part 2).html">13. Mini Project: DP (Part 2)</a>
    </li>
    <li class="">
      <a href="14. Policy Improvement.html">14. Policy Improvement</a>
    </li>
    <li class="">
      <a href="15. Implementation.html">15. Implementation</a>
    </li>
    <li class="">
      <a href="16. Mini Project DP (Part 3).html">16. Mini Project: DP (Part 3)</a>
    </li>
    <li class="">
      <a href="17. Policy Iteration.html">17. Policy Iteration</a>
    </li>
    <li class="">
      <a href="18. Implementation.html">18. Implementation</a>
    </li>
    <li class="">
      <a href="19. Mini Project DP (Part 4).html">19. Mini Project: DP (Part 4)</a>
    </li>
    <li class="">
      <a href="20. Truncated Policy Iteration.html">20. Truncated Policy Iteration</a>
    </li>
    <li class="">
      <a href="21. Implementation.html">21. Implementation</a>
    </li>
    <li class="">
      <a href="22. Mini Project DP (Part 5).html">22. Mini Project: DP (Part 5)</a>
    </li>
    <li class="">
      <a href="23. Value Iteration.html">23. Value Iteration</a>
    </li>
    <li class="">
      <a href="24. Implementation.html">24. Implementation</a>
    </li>
    <li class="">
      <a href="25. Mini Project DP (Part 6).html">25. Mini Project: DP (Part 6)</a>
    </li>
    <li class="">
      <a href="26. Check Your Understanding.html">26. Check Your Understanding</a>
    </li>
    <li class="">
      <a href="27. Summary.html">27. Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">21. Implementation</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="implementation-truncated-policy-iteration">Implementation: Truncated Policy Iteration</h1>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>In the previous concept, you learned about <strong>truncated policy evaluation</strong>.  Whereas (iterative) policy evaluation applies as many Bellman updates as needed to attain convergence, truncated policy evaluation only performs a fixed number of sweeps through the state space.</p>
<p>The pseudocode can be found below.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/truncated-eval.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>We can incorporate this amended policy evaluation algorithm into an algorithm similar to policy iteration, called <strong>truncated policy iteration</strong>.  </p>
<p>The pseudocode can be found below.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/truncated-iter.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>You may also notice that the stopping criterion for truncated policy iteration differs from that of policy iteration.  In policy iteration, we terminated the loop when the policy was unchanged after a single policy improvement step.  In truncated policy iteration, we stop the loop only when the value function estimate has converged.  </p>
<p>You are strongly encouraged to try out both stopping criteria, to build your intuition.  However, we note that checking for an unchanged policy is unlikely to work if the hyperparameter <code>max_iterations</code> is set too small.  (To see this, consider the case that <code>max_iterations</code> is set to a small value.  Then even if the algorithm is far from convergence to the optimal value function <span class="mathquill ud-math">v_<em></span> or optimal policy <span class="mathquill ud-math">\pi_</em></span>, you can imagine that updates to the value function estimate <span class="mathquill ud-math">V</span> may be too small to result in any updates to its corresponding policy.)</p>
<p>Please use the next concept to complete <strong>Part 5: Truncated Policy Iteration</strong> of <code>Dynamic_Programming.ipynb</code>.  Remember to save your work!</p>
<p>If you'd like to reference the pseudocode while working on the notebook, you are encouraged to open <a href="https://github.com/udacity/rl-cheatsheet/blob/master/cheatsheet.pdf" target="_blank">this sheet</a> in a new window.  </p>
<p>Feel free to check your solution by looking at the corresponding section in <code>Dynamic_Programming_Solution.ipynb</code>.</p>
</div>

</div>
<div class="divider"></div>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://github.com/udacimak/udacimak#readme" target="_blank">udacimak v1.2.0</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });
    });
  </script>
</body>

</html>
